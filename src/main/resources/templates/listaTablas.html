<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="ISO-8859-1">
  <link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
	integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
	crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js"></script>
  <title>Tablas</title>
</head>
<body style="background-color: #FBFCFC;">
    <header></header>
    <br>
    <br>
    <br>
    <div class="container">
     <nav class="navbar navbar-default" role="navigation">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
            <li><a href="/person/new">Inicio</a></li>
        </ul>
        <ul class="nav navbar-nav">
            <li><a href="#">Promociones</a></li>
        </ul>
        <ul class="nav navbar-nav">
            <li><a href="#">Tasa de Descuento</a></li>
        </ul>
        <ul class="nav navbar-nav">
            <li><a href="#">Lista de Compradores</a></li>
        </ul>
        <ul class="nav navbar-nav">
            <li><a href="/comprador/tablas">Tablas</a></li>
        </ul>
        <ul class="nav navbar-nav">
            <li><a href="#">Contactos</a></li>
        </ul>
      </div>
     </nav>
    </div>
    <br>
	<div class="container">
	 <div class="col-md-6">
	    <br>
	    <h2>Lista de Compradores</h2>
	    <br>
	    <br>
	    <br>
	    <br>
		<table class="table" id="tabla1" name="tabla1" value="tabla1" border="2">
			<thead>
				<tr bgcolor="#5DADE2">
					<td>Nombre</td>
					<td>DNI</td>
					<td>Estado</td>
				</tr>
			</thead>
			<tbody>

				<tr th:each="comprador : ${compradors}">
					<td th:text="${comprador.Nombre}"></td>
					<td th:text="${comprador.Dni}"></td>
					<td th:text="${comprador.Estado}"></td>
				</tr>
			</tbody>
		</table>
	 </div>
	 <div class="col-md-6">
	  <br>
	  <h2>Lista de Personas</h2>
	  <br>
	  <br>
	  <br>
	  <br>
	  <table class="table" id="tabla2" name="tabla2" value="tabla2" border="2">
			<thead>
				<tr bgcolor="#5DADE2">
				    <td>Nombre</td>
					<td>DNI</td>
					<td>Tipo</td>
					<td>Salario</td>
					<td>Infocorp</td>
					<td>Impuesto Anual</td>
				</tr>
			</thead>
			<tbody>

				<tr th:each="person : ${persons}">
				    <td th:text="${person.nombre}"></td>
					<td th:text="${person.dni}"></td>
					<td th:text="${person.tipo}"></td>
					<td th:text="${person.salario}"></td>
					<td th:text="${person.infocorp}"></td>
					<td th:text="${person.impuesto}"></td>
				</tr>
			</tbody>
		</table>
	 </div>
	</div>
<script>
$(document).ready(function(){
	
	var yea1=tabla1.rows.length;
	var yea2=tabla2.rows.length;
	
	var datos = {
		type: "pie",
		data : {
			datasets :[{
				data : [
					yea1,
					yea2,
				],
				backgroundColor: [
					"#F7464A",
					"#46BFBD",
				],
			}],
			labels : [
				"Compradores",
				"Personas",
			]
		},
		options : {
			responsive : true,
		}
	};
	var canvas = document.getElementById('chart').getContext('2d');
	window.pie = new Chart(canvas, datos);
	
	});
</script>
<div id="canvas-container" style="width:50%;">
		<canvas id="chart" width="500" height="350"></canvas>
</div>
</body>
</html>